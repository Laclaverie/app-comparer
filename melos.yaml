# filepath: e:\ProjetPerso\app-comparer\melos.yaml
name: app_comparer

repository : https://github.com/Laclaverie/app-comparer.git

packages:
  - packages/**
  - apps/**
# note to myself, client_price_comparer have to be removed so NOT including it in melios
command:
  version:
    # Generate commit links in package changelogs.
    linkToCommits: true
    # Only allow versioning to happen on main branch.
    branch: main
    # Additionally build a changelog at the root of the workspace.
    workspaceChangelog: true

scripts:
  analyze:
    run: |
      melos exec -- "dart analyze . --fatal-infos"
    description: |
      Run `dart analyze` in all packages.
       - Note: you can also rely on your IDEs Dart Analysis / Issues window.

  clean:
    run: |
      melos exec -- "flutter clean"
    description: Clean all Flutter projects

  get:
    run: |
      melos exec -- "flutter pub get"
    description: Get dependencies for all packages

  build:runner:
    run: |
      melos exec --depends-on="build_runner" -- "dart run build_runner build --delete-conflicting-outputs"
    description: Build all generated files using build_runner